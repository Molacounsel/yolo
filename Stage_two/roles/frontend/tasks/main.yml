#SPDX-License-Identifier: MIT-0
---
# tasks file for frontend
- name: Set up frontend service
  block:
    - name: Build frontend Docker image
      become: true
      docker_image:
        build:
          path: "{{ frontend_build_path }}"
        name: "{{ frontend_image_name }}:{{ frontend_image_tag }}"
        source: build
      tags: docker_image

    - name: Run frontend Docker container
      become: true
      docker_container:
        name: "{{ frontend_container_name }}"
        image: "{{ frontend_image_name }}:{{ frontend_image_tag }}"
        networks:
          - name: "{{ frontend_network }}"
        ports:
          - "{{ frontend_port }}:{{ frontend_port }}"
      tags: docker_container
  tags: frontend
